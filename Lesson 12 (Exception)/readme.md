# Exception
অন্যান্য প্রোগ্রামিং ল্যাঙ্গুয়েজের মতো পিএইচপিতে ও এক্সেপশন আছে। এক্সসেপশনাল কন্ডিশনে ভিত্তি করে এইসব এক্সেপশন থ্রো, ক্যাচ করতে পারি এবং এইসব এক্সসেপশনের উপর ভিত্তি করে বিভিন্ন ধরণের ডিসিশন নিতে পারি যে আমাদের কন্ট্রোল-ফ্লো কোন দিকে যাবে। কোডে দেখলে জিনিসটা আরো ক্লিয়ার হবে চলো দেখা যাকঃ 
```php
class Student
{
    public $name, $age;
    function __construct($name, $age)
    {
        $this->name = $name;
        $this->age = $age;
        if ($age < 4) {
            throw new Exception("Too Young ", 1001);
        } elseif ($age > 35) {
            throw new Exception("Too Old", 1002);
        }
    }
}
```
ডিফল্ট এক্সসেপশনের মধ্যে দুটি আর্গুমেন্ট পাস করা যাই একটি মেসেজ, আরেকটি হলো ইন্টিজার কোড, বলা যাই এরর কোড যা দেখে সহজে আমরা বুজতে পারবো। এখানে আমরা একটি স্টুডেন্ট ক্লাস নিলাম দেখুন আমরা ৪ বছরের ছোট এবং ৩৫ বছরের বড় স্টুডেন্টস একসেপ্ট করবো না তাই আমরা কন্ডিশন বসিয়ে এক্সেপশন থ্রো করলাম, ও মনে রাখবেন এক্সেপশন কিন্তু একটি ক্লাস এবং আমরা একাধিক এক্সেপশন থ্রো করতে পারবো। তো এক্সেপশন থ্রো করা হলো এখন ক্যাচ বা ধরা লাগবে
```php
try {
    new Student('Rahim', 2);
    echo "Eligible for admission"; // এক্সেপশন থ্রো না হলে এই লাইনটি দেখাবে.
} catch (Exception $e) {
    echo  $e->getCode() . ":" . $e->getMessage();
} finally {
    echo "\nIt will always run";
}
// সম্পূর্ণ কোডটি আপনার কোড এডিটরে রান করে দেখুন 
```
যে কোডটি রান করতে চাই তা ট্রাই এর মধ্যে রাখবো, যদি কোন এক্সেপশন হয় তাহলে ক্যাচে আসবে, আর ফাইনালি এই ব্লগ সব সময় রান হয় তাই এটা বেশি দরকার পরে না। এক্সসেপশনের কিছু মেথড আছেঃ
| Method    | Description                |
| :-------- | :------------------------- |
| getMessage() | এক্সেপশন থেকে যে মেসেজ পাঠানো হয়েছিল |
| getCode() | এক্সেপশন থেকে যে কোড দেওয়া হয়েছিল|
| getFile() | ফাইলের সম্পূর্ণ পাথ দেয় যেখান থেকে এক্সেপশন নিক্ষেপ করা হয়েছিল|
| getLine() | লাইনের নাম্বার দেয়, যেখান থেকে এক্সেপশন নিক্ষেপ করা হয়েছিল|

চলুন দেখি পিএইচপির বিল্ট-ইন এক্সেপশনকে এক্সটেন্ডস করে আমাদের নিজেদের মতো করে ব্যতিক্রম এক্সেপশন ক্লাস, মেথড, তৈরি এবং অবজেক্ট ব্যাবহার করতে পারি।
```php
class MyException extends Exception{
    function myMessage(){
        echo "MyException Caught";
    }
}

class YourException extends Exception{}

function testExceptions(){
    throw new MyException();
}

try{
    testExceptions();
}catch (MyException $e) {
    $e->myMessage();
}catch(YourException $e){
    echo "NetwrokException Caught";
}catch (Exception $e) {
    echo "Exception Caught";
}
/* Output:
    MyException Caught
*/
```
দেখলেন নতুন এক্সেপশন বানানো এবং ব্যবহার করা কত সহজ। আমরা যদি `YourException` থ্রো করতাম তাহলে `YourException` ক্যাচে এসে থামতো। ও একটা জিনস সবসময় খেয়াল রাখবো আমাদের বানানো এক্সেপশন গুলো উপরের ক্যাচে রাখবো এবং বিল্ট-ইন এক্সেপশনকে সবার শেষ ক্যাচে রাখবো, আপনি যদিও বানানো এক্সেপশনকে থ্রো করতেন আর প্রথম ক্যাচে যদি বিল্ট-ইন এক্সেপশন থাকতো তাহলে সেটাই হিট করতো এটি কিন্তু ভ্যালিড স্টেটমেন্ট, কারন বানানো এক্সেপশন গুলো তো বিল্ট-ইন এক্সেপশনকে এক্সটেন্ডস করেই হয়েছে তার মানে আপনার বানানো এক্সেপশন কিন্তু খুরে ফিরে বিল্ট-ইন এক্সেপশন। ক্যাচ ব্লগের যদি কোন একটি ক্যাচ ব্লগ হিট করে পরের ক্যাচ ব্লগগুলো কিন্তু রান হবে না __if, elseif, else__ মতো। একটি সুন্দর এবং বিস্তারিত এক্সাম্পল দেখতে [Link](./e3.php).

Exception সম্পর্কে আরো জানতে [Exception](https://www.w3schools.com/php/php_exceptions.asp).